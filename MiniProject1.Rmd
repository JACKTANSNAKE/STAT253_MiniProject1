---
title: "Mini-Project 1"
author: Jack Tan
output: 
  html_document:
    toc: true
    toc_float: true
---
```{r message = FALSE}
library(ggplot2)
library(dplyr)
library(caret)
library(RANN)
```

\
\
## Part 1: Ready the data
```{r}
airbnb <- read.csv("https://www.macalester.edu/~ajohns24/data/NYC_airbnb_kaggle.csv")
nbhd <- read.csv("https://www.macalester.edu/~ajohns24/data/NYC_nbhd_kaggle.csv")
airbnb_complete <- left_join(nbhd, airbnb, by = c("neighbourhood" = "neighbourhood_cleansed"))
dim(airbnb_complete)
```




deal witht the data
```{r}
airbnb_complete <- airbnb_complete %>% 
  filter(price < 1000) #%>%
  #select(-id,-longitude,-latitude,-amenities,-square_feet,-calendar_updated)
dim(airbnb_complete)
```



```{r}
set.seed(253)
airbnb_5000 <- sample_n(airbnb_complete,5000)
dim(airbnb_5000)
```

```{r}
ggplot(airbnb_complete,aes(x = host_is_superhost, y = price))+
  geom_boxplot()
```

\
\
\
\
\
\



## Part 2: Analyze
impute with KNN
```{r}
impute_info <- airbnb_5000 %>%
  preProcess(method = "knnImpute")
airbnb_5000 <- predict(impute_info, newdata = airbnb_5000)
```

model with LASSO
```{r}
lambda_grid <- 10^seq(-3, 1, length = 100)

# Set the seed 
    set.seed(253)
    
    lasso_model <- train(
      price ~ .,
      data = airbnb_5000,
      method = "glmnet",
      trControl = trainControl(method = "cv", number = 10, selectionFunction = "oneSE"),
      tuneGrid = data.frame(alpha = 1, lambda = lambda_grid),
      metric = "MAE",
      na.action = na.omit
    )
    
```

\
\
\
\
\
\



## Part 3: Summarize



\
\
\
\
\
\



## Part 4: Contributions



